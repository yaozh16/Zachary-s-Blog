<!DOCTYPE html>
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width"><link rel="stylesheet" type="text/css" media="all" href="../css/article_styles.css"><script type='text/x-mathjax-config'>  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script><script type='text/javascript' src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script></head>
<body><div class='content'><h1 id="G2O">G2O</h1>
<h2 id="基本算法">基本算法</h2><div class="liRank0"><li class="liRank0">用高斯牛顿法加上递归速度参数保证稳定下降</li></div><div class="liRank0"><li class="liRank0">解方程用外部库(PCG/舒尔分解)加速</li></div><div class="liRank0"><li class="liRank0">选择核函数增加鲁棒性</li></div><div class="liRank0"><li class="liRank0">需要自己处理输入的格式规范</li></div><div class="liRank0"><li class="liRank0">可以使用ceres</li></div>
<h2 id="data structure">data structure</h2>
<h3 id="Overview">Overview</h3>
<div class="image"><image src="assets/2018-1-19_G2O_Learning-69e2d.png" title=""></image></div>
<h3 id="BaseVertex">BaseVertex</h3>
需要实现
<table cellspacing='0'><tr><th> function             </th><th> usage          </th></tr><tr><td> oplusImpl(double* v) </td><td> 扰动叠加操作符 </td></tr><tr><td> setToOriginImpl()    </td><td> 归位操作符     </td></tr></table><br>而成员变量 <strong>_estimate</strong> 则作为预测量
<h3 id="BaseUnaryEdge">BaseUnaryEdge</h3>
模板实例化需要<div class="ulRank0"><ul class="ulRank0">1. vertex的类型</ul></div><div class="ulRank0"><ul class="ulRank0">2. error的类型</ul></div><div class="ulRank0"><ul class="ulRank0">3. error的维数</ul></div>
需要实现

<table cellspacing='0'><tr><th> function       </th><th> usage    </th></tr><tr><td> computeError() </td><td> 计算误差 </td></tr></table><br><div class="liRank0"><li class="liRank0">自己实现了linearizeOplus函数</li></div><div class="liRank0"><li class="liRank0">可以通过_fixed参数修改是否固定，去除多余自由度</li></div>
<h3 id="BaseBinaryEdge">BaseBinaryEdge</h3>
模板实例化需要<div class="ulRank0"><ul class="ulRank0">1. D: dimension of error</ul></div><div class="ulRank0"><ul class="ulRank0">1. E: error/measurement类型</ul></div><div class="ulRank0"><ul class="ulRank0">1. Xi : x1类型</ul></div><div class="ulRank0"><ul class="ulRank0">1. Xj : x2类型</ul></div>
需要实现

<table cellspacing='0'><tr><th> function       </th><th> usage    </th></tr><tr><td> computeError() </td><td> 计算误差 </td></tr></table><br><div class="liRank0"><li class="liRank0">通过linearizeOplus函数计算Jacob矩阵</li></div>
<h3 id="BaseMultiEdge">BaseMultiEdge</h3>

模板实例化需要<div class="ulRank0"><ul class="ulRank0">1. measurement的维数</ul></div><div class="ulRank0"><ul class="ulRank0">2. error/measurement的类型</ul></div>
<h3 id="补充">补充</h3><div class="ulRank0"><ul class="ulRank0">1. 需要实现<div class="liRank0"><li class="liRank0">read</li></div><div class="liRank0"><li class="liRank0">write</li></div></ul></div><div class="ulRank0"><ul class="ulRank0">2. 对于新定义的数据需要注册（在所有文件装载前）</ul></div>
registerType
<div class='codeBlock'><pre class='codeBlockPre'><blockquote>G2O REGISTER TYPE(VERTEX SE2, VertexSE2 ) ;//为VertexSE2类注册标签VERTEX SE2
</blockquote></pre></div><div class="ulRank0"><ul class="ulRank0">3. 使用type group</ul></div>
编译防止冲突
G2O_REGISTER_TYPE_GROUP
G2O_USE_TYPE_GROUP
<h2 id="使用">使用</h2>

<h3 id="思路">思路</h3><div class="ulRank0"><ul class="ulRank0">1. 初始化</ul></div>
设置点固定等<div class="ulRank0"><ul class="ulRank0">2. 计算误差</ul></div><div class="ulRank0"><ul class="ulRank0">3. 鲁棒性</ul></div>
某一条边robustKernel()设置为true时会进行鲁棒性计算<div class="ulRank0"><ul class="ulRank0">4. 默认的linearizeOplus()</ul></div>
<div class="image"><image src="assets/2018-1-19_G2O_Learning-8235b.png" title=""></image></div><div class="ulRank0"><ul class="ulRank0">5. 系统建立</ul></div>
<strong>constructQuadraticForm()</strong><div class="ulRank0"><ul class="ulRank0">6. LM方法更新值</ul></div>
<strong>updateLevenbergSystem(double lambda)</strong>
<strong>recoverSystem(double lambda)</strong>
自己修改lamda值
<h3 id="solver">solver</h3><div class="ulRank0"><ul class="ulRank0">1. initializeStructure</ul></div><div class="ulRank0"><ul class="ulRank0">2. provide means to access to the increment vector ∆x̃ and b̃, via the functions b() and x()</ul></div><div class="ulRank0"><ul class="ulRank0">3. implement a function to perturb the Hessian with the λI term.</ul></div>
This function is called <strong>setLambda(double lambda)</strong> and needs to be implemented by the specific solver.

<h3 id="example">example</h3>
<h5 id="1">1</h5>
<div class="image"><image src="assets/2018-1-19_G2O_Learning-a7d2c.png" title=""></image></div>
</div></body>
</html>
